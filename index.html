<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terrain de Football avec Flèche Courbée</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&display=swap');

        body {
            font-family: 'Assistant', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f5f5f5;
        }

        .container {
            display: flex;
            position: relative;
            gap: 20px;
            align-items: flex-start;
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            position: relative;
        }

        .arrow-tool {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            background: #fdfdfd;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .arrow-tool img {
            width: 50px;
            height: 50px;
        }

        .field {
            width: 700px;
            height: 500px;
            background: url('terrain.png') no-repeat center center;
            background-size: contain;
            position: relative;
            border: 2px solid #ccc;
        }

        .players {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 10px;
            justify-content: center;
            width: 100%;
            max-width: 700px;
            padding: 10px;
            background: #fff;
            border: 1px solid #ccc;
        }

        .player {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 5px;
            border-radius: 5px;
            background: #fdfdfd;
        }

        .player img {
            width: 50px;
            height: 50px;
        }

        .player span {
            margin-top: 5px;
            font-size: 12px;
            text-align: center;
        }

        .curve-arrow {
            position: absolute;
            stroke: red;
            fill: none;
            stroke-width: 2;
            z-index: 20; /* Flèches courbées au premier plan */
        }

        .selected {
            border: 2px solid #6fb98f;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Icône de flèche courbée -->
        <div class="controls">
            <div class="arrow-tool" id="curve-arrow-tool">
                <img src="courbe.jpg" alt="Flèche courbée">
                <span>Flèche courbée</span>
            </div>
        </div>

        <!-- Terrain -->
        <div class="field" id="field">
            <!-- Flèches et joueurs placés apparaîtront ici -->
        </div>
    </div>

    <!-- Liste des joueurs -->
    <div class="players" id="players">
        <!-- Liste des joueurs générée dynamiquement -->
    </div>

    <script>
        const field = document.getElementById('field');
        const curveArrowTool = document.getElementById('curve-arrow-tool');
        const playersContainer = document.getElementById('players');

        let isAddingCurveArrow = false;
        let startPoint = null;
        let controlPoint = null;

        // Activer le mode flèche courbée
        curveArrowTool.addEventListener('click', () => {
            isAddingCurveArrow = !isAddingCurveArrow;
            curveArrowTool.classList.toggle('selected', isAddingCurveArrow);
            startPoint = null;
            controlPoint = null;
        });

        // Gérer les clics sur le terrain
        field.addEventListener('click', (e) => {
            const x = e.offsetX;
            const y = e.offsetY;

            if (isAddingCurveArrow) {
                if (!startPoint) {
                    // Définir le point de départ
                    startPoint = { x, y };
                } else if (!controlPoint) {
                    // Définir le point de contrôle (milieu)
                    controlPoint = { x, y };
                } else {
                    // Définir le point de fin et dessiner la flèche courbée
                    drawCurveArrow(startPoint, controlPoint, { x, y });
                    startPoint = null;
                    controlPoint = null;
                }
            }
        });

        // Fonction pour dessiner une flèche courbée
        function drawCurveArrow(start, control, end) {
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            const path = document.createElementNS(svgNS, "path");

            svg.style.position = "absolute";
            svg.style.left = "0";
            svg.style.top = "0";
            svg.style.width = "100%";
            svg.style.height = "100%";
            svg.style.overflow = "visible";
            svg.style.zIndex = "20";

            path.setAttribute("d", `M ${start.x},${start.y} Q ${control.x},${control.y} ${end.x},${end.y}`);
            path.setAttribute("class", "curve-arrow");

            svg.appendChild(path);
            field.appendChild(svg);
        }

        // Liste complète des joueurs
        const players = [
            "Aaron Esnard le Foll", "Aaron Kae", "Aboubakar Ait Kassou", "Adam Redissi",
            "Adil Lalaoui", "Amine Benboubker", "Assane Fadika", "Aurélien Achard",
            "Axel Aggar", "Bradley Woloko Lipeta", "Charle Mendes", "Elijah Banzulu",
            "Emmanuel Makkaya", "Erwann Pierre", "Ethan Henriet", "Ethan Tomas Espejo",
            "Farhan Soumanou", "Hosiya", "Ilyes Aissi", "Imed Hassan", "Imran Ben Yahia",
            "Isaac Sogo", "Junayd Bourezgui", "Kayis Amari", "Kiany Babelana Matondo",
            "Kyliane Kibuku", "Loucas Assabbane", "Laiky Lemiere", "Lenny Exumat",
            "Lenyh Delegove-Vally", "Liam Faria", "Manyl Boubrit", "Mathis Sidhoumi",
            "Mohamed Rakhaoui", "Naïl Mehdi", "Noham Ksia", "Rafael Esteves",
            "Raphaël You Khou", "Ryad Mayass", "Ryan Badawy", "Ryan Chaabi",
            "Said Hassan Akbas", "Habishan", "Kishan", "Soulayman Mhamdi",
            "Thaïs Ntone", "Théo Daigueperce", "Tiago Gendarme", "Tohiniaina Andritsizehena",
            "Valentin Cherel", "William Dambrun", "Yacine Touati", "Yani Bouchelkia", 
            "Aylan Bouchelkia", "Yanis Mehdi", "Yassine Moubaraki"
        ];

        // Générer la liste des joueurs sous le terrain
        players.forEach(player => {
            const playerDiv = document.createElement('div');
            playerDiv.classList.add('player');
            playerDiv.innerHTML = `
                <img src="joueur.png" alt="Joueur">
                <span>${player}</span>
            `;
            playersContainer.appendChild(playerDiv);

            // Ajouter un événement pour sélectionner un joueur
            playerDiv.addEventListener('click', () => {
                const selectedPlayer = document.querySelector('.player.selected');
                if (selectedPlayer) {
                    selectedPlayer.classList.remove('selected');
                }
                playerDiv.classList.add('selected');
            });
        });
    </script>
</body>
</html>
